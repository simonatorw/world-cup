<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>World Cup</title>
		<style>
			body {
				background-color: #000;
				color: #fff;
				font-family: verdana, sans-serif;
				font-size: 12px;
				display: flex;
				justify-content: center;
				align-items: center;
				height: 93vh;
				margin: 0;				
			}
			#time {
				font-size: 6rem;
				color: cyan;
				font-style: italic;
			}
			#stoppage {
				font-size: 6rem;
				color: green;
				font-style: italic;				
			}
		</style>
	</head>
	<body>
		<section id="container">
			<div>
				<span id="time"></span>
				<span id="stoppage"></span>
			</div>
		</section>
		<script src="../lib.js"></script>
		<script>
			class WorldCup {
				constructor() {
					this.time = 0;
					this.totalTime = 91;
					this.stoppage = 0;
					this.startTimer();
				}
				
				renderTime(min) {
					const minStr = `${min}`.padStart(2, '0');
					const node = new Node(document.getElementById('time'));
					
					node.insert(`00:${minStr}`);
				}
				
				renderStoppage(min) {
					const node = new Node(document.getElementById('stoppage'));
					
					node.insert(`+${min}`);
				}
				
				startTimer() {
					this.renderTime(this.time);

					const timer = setInterval(() => {
						this.time++;
				
						if (this.time < this.totalTime) {
							this.renderTime(this.time);
						} else if (!this.stoppage) {
							this.stoppage = this.stoppage + rand(0, 9);
							this.totalTime = this.totalTime + this.stoppage;
							this.renderStoppage(this.stoppage);
							
							if (this.stoppage) {
								this.renderTime(this.time);
							} else {
								clearInterval(timer);
							}
						} else {
							clearInterval(timer);
						}
					}, 1000);
				}
			}

			new WorldCup();
		</script>
	</body>
</html>